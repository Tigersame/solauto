import "rpc-websockets/dist/lib/client";
import { Connection, PublicKey } from "@solana/web3.js";
import { Signer, TransactionBuilder, Umi } from "@metaplex-foundation/umi";
import { WalletAdapter } from "@metaplex-foundation/umi-signer-wallet-adapters";
import { DCASettings, DCASettingsInpArgs, LendingPlatform, PositionState, ReferralState, SolautoActionArgs, SolautoPosition, SolautoRebalanceTypeArgs, SolautoSettingsParameters, SolautoSettingsParametersInpArgs, UpdatePositionDataArgs } from "../generated";
import { JupSwapDetails } from "../utils/jupiterUtils";
import { FlashLoanDetails } from "../utils/solauto/rebalanceUtils";
import { LivePositionUpdates } from "../utils/solauto/generalUtils";
export interface SolautoClientArgs {
    authority?: PublicKey;
    positionId: number;
    signer?: Signer;
    wallet?: WalletAdapter;
    supplyMint?: PublicKey;
    debtMint?: PublicKey;
    referralFeesDestMint?: PublicKey;
    referredByAuthority?: PublicKey;
}
export declare abstract class SolautoClient {
    localTest?: boolean | undefined;
    umi: Umi;
    connection: Connection;
    lendingPlatform: LendingPlatform;
    authority: PublicKey;
    signer: Signer;
    positionId: number;
    selfManaged: boolean;
    solautoPosition: PublicKey;
    solautoPositionData: SolautoPosition | null;
    solautoPositionState: PositionState | undefined;
    supplyMint: PublicKey;
    positionSupplyTa: PublicKey;
    signerSupplyTa: PublicKey;
    debtMint: PublicKey;
    positionDebtTa: PublicKey;
    signerDebtTa: PublicKey;
    authorityReferralState: PublicKey;
    authorityReferralStateData: ReferralState | null;
    authorityReferralFeesDestMint: PublicKey;
    authorityReferralDestTa: PublicKey;
    referredByState?: PublicKey;
    referredByAuthority?: PublicKey;
    referredBySupplyTa?: PublicKey;
    solautoFeesWallet: PublicKey;
    solautoFeesSupplyTa: PublicKey;
    authorityLutAddress?: PublicKey;
    upToDateLutAccounts: PublicKey[];
    livePositionUpdates: LivePositionUpdates;
    constructor(heliusApiKey: string, localTest?: boolean | undefined);
    initialize(args: SolautoClientArgs, lendingPlatform: LendingPlatform): Promise<void>;
    log(...args: any[]): void;
    resetLivePositionUpdates(): Promise<void>;
    defaultLookupTables(): string[];
    lutAccountsToAdd(): PublicKey[];
    fetchExistingAuthorityLutAccounts(): Promise<PublicKey[]>;
    updateLookupTable(): Promise<{
        updateLutTx: TransactionBuilder;
        needsToBeIsolated: boolean;
    } | undefined>;
    solautoPositionSettings(): SolautoSettingsParameters | undefined;
    solautoPositionActiveDca(): DCASettings | undefined;
    updateReferralStatesIx(): TransactionBuilder;
    claimReferralFeesIx(): TransactionBuilder;
    openPosition(settingParams?: SolautoSettingsParametersInpArgs, dca?: DCASettingsInpArgs): TransactionBuilder;
    updatePositionIx(args: UpdatePositionDataArgs): TransactionBuilder;
    closePositionIx(): TransactionBuilder;
    cancelDCAIx(): TransactionBuilder;
    abstract refresh(): TransactionBuilder;
    protocolInteraction(args: SolautoActionArgs): TransactionBuilder;
    abstract flashBorrow(flashLoanDetails: FlashLoanDetails, destinationTokenAccount: PublicKey): TransactionBuilder;
    abstract flashRepay(flashLoanDetails: FlashLoanDetails): TransactionBuilder;
    abstract rebalance(rebalanceStep: "A" | "B", swapDetails: JupSwapDetails, rebalanceType: SolautoRebalanceTypeArgs, flashLoan?: FlashLoanDetails, targetLiqUtilizationRateBps?: number, limitGapBps?: number): TransactionBuilder;
    getFreshPositionState(): Promise<PositionState | undefined>;
}
//# sourceMappingURL=solautoClient.d.ts.map